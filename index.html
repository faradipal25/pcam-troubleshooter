<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PCAM Troubleshooter â€“ TEST UI</title>
<link rel="icon" href="data:,">
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f5f6fa; }
  .card { background: white; padding: 16px; border-radius: 10px;
          max-width: 800px; margin: 12px auto;
          box-shadow: 0 4px 10px rgba(0,0,0,.1); }
  input, button, select, textarea {
    padding: 8px; font-size: 14px; margin: 4px 0;
    border-radius: 6px; border: 1px solid #ccc;
  }
  button { cursor: pointer; background: #1e3c72; color: white; border: none; }
  button:hover { opacity: 0.85; }
  img.preview { max-width: 280px; margin-top: 6px; border: 1px solid #ddd; padding: 4px; }
  pre { background: #111; color: #0f0; padding: 8px; border-radius: 6px; height: 160px; overflow:auto; }
  .hidden { display: none; }
</style>
</head>

<body>

<!-- ---------------- PASSWORD SCREEN ---------------- -->
<div class="card" id="passwordCard">
  <h3>Enter password</h3>
  <input id="passwordInput" type="password" placeholder="Password">
  <button id="btnEnter">Enter</button>
</div>

<!-- ---------------- MAIN UI ---------------- -->
<div class="card hidden" id="mainCard">

  <h2>PCAM TEST UI</h2>

  <label><b>Search error code</b></label><br>
  <input id="errorCode" placeholder="E001 or 001">
  <button id="btnSearch">Search</button>

  <div id="searchResult" style="padding:12px;"></div>

  <hr>

  <h3>Add Occurrence (Test)</h3>

  <label>Error Code</label><br>
  <select id="occCode"><option value="">Load errors first</option></select><br>

  <label>Date</label><br>
  <input type="date" id="occDate"><br>

  <label>Customer</label><br>
  <input id="occCustomer"><br>

  <label>Remedy</label><br>
  <textarea id="occRemedy"></textarea><br>

  <label>Image Link (optional)</label><br>
  <button id="btnSaveOcc" style="
  padding:10px 16px;
  background:#28a745;
  color:#fff;
  border:none;
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
">
ðŸ’¾ Save Occurrence
</button>
<button id="btnExportOcc">Export Occurrences</button>
<hr>
<h3>Import Occurrences</h3>
<input type="file" id="importFile" accept=".json">
<button id="btnImportOcc">
  Import Occurrences
</button>

<input type="file" id="importFile" accept=".json" style="display:none">

<button id="btnImportOcc">
  Import Occurrences
</button>

  <hr>

  <h3>Debug</h3>
  <button id="btnLoadErrors">Load Errors</button>
  <button id="btnLoadOccurrences">Load Occurrences</button>
  <button id="btnShowCache">Show Cache</button>
  <a href="https://script.google.com/macros/s/AKfycbxAE_asBdIOT6NhGe6bk-bP0eFeUSe2HjKQLkyh1ET7XdbcNtpBtJ8cDbaL_BDQPjsM/exec?action=save"
     target="_blank"
     style="display:inline-block;
            padding:10px 16px;
            background:#1e3c72;
            color:#fff;
            border-radius:6px;
            text-decoration:none;
            font-weight:600;">
     Add New Occurrence (Secure)
  </a>
  <pre id="debug"></pre>

</div>

<!-- LOAD SCRIPT.JS -->
<script src="script.js"></script>

</body>
</html>
